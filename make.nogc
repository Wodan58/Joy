.POSIX:
.SUFFIXES:

CC = gcc
CFLAGS = -O3 -Wall -Wextra -Werror -ansi -pedantic
LDLIBS = -static -lm
OBJECTS = interp.o scan.o utils.o main.o srand.o rand.o

joy: $(OBJECTS)
	$(CC) -o$@ $(OBJECTS) $(LDLIBS)

$(OBJECTS): globals.h

clean:
	rm -f joy *.o

.SUFFIXES: .c .o

.c.o:
	$(CC) $(CFLAGS) -c $<
